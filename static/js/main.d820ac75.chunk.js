(this["webpackJsonpbusiness-calculator"]=this["webpackJsonpbusiness-calculator"]||[]).push([[0],{10:function(e,t){},15:function(e,t,a){e.exports=a.p+"static/media/campaign.07aa0cad.png"},22:function(e,t,a){e.exports=a(38)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t){},36:function(e,t){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),s=(a(27),a(18)),c=a(6),u=a(19),i=a(2),m=a(3),d=a(12),p=a(13),h=a(20),E=a(14),v=a(21),y=(a(28),a(29),function(e){var t=e.typeCharacter,a=e.className,n=Object(c.a)(e,["typeCharacter","className"]);return r.a.createElement("div",{className:"styled-input ".concat(a," ").concat(t&&"with-type-character")},t&&r.a.createElement("span",{className:"type-character"},t),r.a.createElement("input",n))}),b=a(15),w=a.n(b),f=a(16),k=a(1),g=a(17),j=[{lowerBound:0,upperBound:24999,baseCost:0,rate:0},{lowerBound:25e3,upperBound:49999,baseCost:0,rate:.138},{lowerBound:5e4,upperBound:74999,baseCost:3450,rate:.169},{lowerBound:75e3,upperBound:99999,baseCost:7675,rate:.184},{lowerBound:1e5,upperBound:199999,baseCost:12275,rate:.216},{lowerBound:2e5,upperBound:Number.POSITIVE_INFINITY,baseCost:33875,rate:.246}],x=function(e){var t;e<0&&(e=-e,t=!0);for(var a,n=String(e),r=[],o=n.length;o>=1;o-=3)a=o-3<0?0:o-3,r.unshift(n.slice(a,o));return t&&(r[0]="-"+r[0].slice(0)),r.join(",")},C=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).handleAddWorker=function(e){e.preventDefault(),a.setState({workerItemCount:a.state.workerItemCount+1,workerItems:Object(m.a)({},a.state.workerItems,Object(i.a)({},a.state.workerItemCount+1,{number:1,type:"Employee",salary:"",selectOpen:!1}))})},a.handleFieldChange=function(e,t){return function(n){var r=a.state.workerItems;a.setState({workerItems:Object(m.a)({},r,Object(i.a)({},e,Object(m.a)({},r[e],Object(i.a)({},t,n.currentTarget.value))))})}},a.handleOpenSelect=function(e){return function(t){var n=a.state.workerItems,r=n[e].selectOpen;a.setState({workerItems:Object(m.a)({},n,Object(i.a)({},e,Object(m.a)({},n[e],{selectOpen:!r})))})}},a.handleTypeSelection=function(e){return function(t){var n=a.state.workerItems;a.setState({workerItems:Object(m.a)({},n,Object(i.a)({},e,Object(m.a)({},n[e],{type:t.target.type,selectOpen:!1})))})}},a.handleExpenditure=function(e){a.setState({currentExpenditure:e.currentTarget.value})},a.handleRemoveWorker=function(e){return function(t){var n=a.state,r=n.workerItemCount,o=n.workerItems,l=(o[e],Object(c.a)(o,[e].map(u.a)));a.setState({workerItemCount:r-1,workerItems:l})}},a.handleSubmit=function(e){e.preventDefault(),a.setState({errors:[]});var t=a.state,n=t.workerItems,r=t.currentExpenditure,o=0,l=0,c=new Set,u=/^[0-9]+$/;""!==r&&r.match(u)||c.add("Current expenditure must contain valid amount.");var i=Object.keys(n).reduce((function(e,t){var a,r,s,i=n[t];""!==i.number&&String(i.number).match(u)||c.add("Number of workers must contain valid number."),""!==i.salary&&i.salary.match(u)||c.add("Income must contain valid amount.");for(var m=0;m<j.length;m++){var d=j[m];if(i.salary<=d.upperBound&&i.salary>=d.lowerBound){a=d.baseCost,r=d.rate,s=d.lowerBound;break}}o+=parseInt(i.salary);var p="Employee"===i.type?.8:1;return l+=i.number*(a+(i.salary-s)*r),Math.round(e+i.number*((a+(i.salary-s)*r)*p))}),0);c.size?a.setState({errors:Object(s.a)(c)}):a.setState({projectedExpenditure:i,totalPayroll:o,savings:r-i,payrollTax:"".concat((l/o*100).toFixed(2),"%"),step:2})},a.handleReturn=function(e){e.preventDefault(),a.setState({step:1})},a.clearForm=function(e){e.preventDefault(),a.setState({workerItemCount:1,workerItems:{1:{number:1,type:"Employee",salary:"",selectOpen:!1}},currentExpenditure:"",projectedExpenditure:"",errors:[]})},a.handleExport=function(){var e=a.state,t=e.workerItems,n=e.totalPayroll,r=e.currentExpenditure,o=e.projectedExpenditure,l=e.payrollTax,s=e.savings,c=Object.values(t).map((function(e){return Object(g.omit)(e,["selectOpen"])})),u=k.utils.json_to_sheet(c);u["!cols"]=[{width:10},{width:20},{width:20}],k.utils.sheet_add_json(u,[{"":""}],{origin:-1}),k.utils.sheet_add_json(u,[{"Total Payroll":"$".concat(x(n))}],{origin:-1}),k.utils.sheet_add_json(u,[{"":""}],{origin:-1}),k.utils.sheet_add_json(u,[{"Current Healthcare Expenditure":"$".concat(x(r))}],{origin:-1}),k.utils.sheet_add_json(u,[{"":""}],{origin:-1}),k.utils.sheet_add_json(u,[{"Projected Expenditure":"$".concat(x(o))}],{origin:-1}),k.utils.sheet_add_json(u,[{"":""}],{origin:-1}),k.utils.sheet_add_json(u,[{Savings:"$".concat(x(s))}],{origin:-1}),k.utils.sheet_add_json(u,[{"":""}],{origin:-1}),k.utils.sheet_add_json(u,[{"Effective Tax Rate":l}],{origin:-1}),k.utils.sheet_add_json(u,[{"":""}],{origin:-1});var i={Sheets:{data:u},SheetNames:["data"]},m=k.write(i,{bookType:"xlsx",type:"array"}),d=new Blob([m],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});f.saveAs(d,"NY Health Act Business Results.xlsx")},a.state={step:1,workerItemCount:1,workerItems:{1:{number:1,type:"Employee",salary:"",selectOpen:!1}},currentExpenditure:"",projectedExpenditure:"",errors:[]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.workerItems,n=t.step,o=t.currentExpenditure,l=t.projectedExpenditure,s=t.totalPayroll,c=t.savings,u=t.payrollTax,i=t.errors;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:w.a,alt:"campaign"}),r.a.createElement("div",null,"Business Savings Calculator")),1===n&&r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"intro"},"This is a calculator to help you estimate how much you would save on your business's healthcare coverage expenses under the NY Health Act compared to what you pay today."),r.a.createElement("h3",null,"I. Personnel Annual Income, Salaries, and Wages"),r.a.createElement("div",{className:"instructions"},'Please enter all annual income for current personnel. Enter the number of people who are receiving each income level, choose type "Owner", or "Employee" from the drop-down menu, and enter the income with no commas or spaces. Click "Add Income Level" for additional entries.'),r.a.createElement("button",{className:"add-worker",onClick:this.handleAddWorker},"Add Income Level"),Object.keys(a).map((function(t){return r.a.createElement("div",{className:"worker-item",key:t},r.a.createElement("div",{className:"worker-number"},r.a.createElement(y,{value:a[t].number,onChange:e.handleFieldChange(t,"number"),placeholder:"#"})),r.a.createElement("div",{className:"worker-type"},r.a.createElement("div",{onClick:e.handleOpenSelect(t)},r.a.createElement("span",{className:"select-value"},"".concat(a[t].type," (").concat("Employee"===a[t].type?"80%":"100%",")")),r.a.createElement("span",null,"\u25bc")),a[t].selectOpen&&r.a.createElement("ul",{className:"dropdown",onClick:e.handleTypeSelection(t)},r.a.createElement("li",{type:"Employee"},"Employee (80%)"),r.a.createElement("li",{type:"Owner"},"Owner (100%)"))),r.a.createElement("div",{className:"worker-salary-item"},r.a.createElement(y,{className:"worker-salary",value:a[t].salary,onChange:e.handleFieldChange(t,"salary"),placeholder:"Enter Income",typeCharacter:"$"}),"1"!==t&&r.a.createElement("div",{className:"remove-worker",onClick:e.handleRemoveWorker(t)},"x")))})),r.a.createElement("h3",null,"II. Current Annual Healthcare Expenditure"),r.a.createElement("div",{className:"instructions"},"Please enter an estimate of all expenses put toward employee healthcare annually (no commas or spaces). Don't forget to incude costs of time spent on evaluation, administration and maintenance."),r.a.createElement(y,{className:"current-expenditure",value:this.state.currentExpenditure,onChange:this.handleExpenditure,placeholder:"Enter Expenditure",typeCharacter:"$"}),r.a.createElement("div",{className:"action-buttons"},r.a.createElement("input",{type:"submit",value:"Submit"}),r.a.createElement("button",{className:"clear-form",onClick:this.clearForm},"Clear Form")),r.a.createElement("ul",{className:"errors"},i.map((function(e){return r.a.createElement("li",null,e)})))),2===n&&r.a.createElement("div",{className:"results"},r.a.createElement("div",null,"Here's how much you currently spend on payroll annually: ",r.a.createElement("b",null,"$".concat(x(s)))),r.a.createElement("div",null,"Here's how much you currently spend on your business's healthcare coverage annually: ",r.a.createElement("b",null,"$".concat(x(o)))),r.a.createElement("div",null,"Here's how much you would spend annually for your business's healthcare coverage under the NY Health Act: ",r.a.createElement("b",null,"$".concat(x(l)))),r.a.createElement("div",null,"Here's how much you would save: ",r.a.createElement("b",null,"$".concat(x(c)))),r.a.createElement("div",null,"Here's what your effective tax rate for healthcare would be under the NY Health Act: ",r.a.createElement("b",null,u)),r.a.createElement("div",{className:"result-buttons"},r.a.createElement("button",{className:"return",onClick:this.handleReturn},"Return to Form"),r.a.createElement("button",{className:"export",onClick:this.handleExport},"Export")))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.d820ac75.chunk.js.map